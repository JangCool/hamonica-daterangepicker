<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>daterangepicker.js</title>
</head>

<body>
    <script>
        console.log(window)
    </script>

    <input id="datetime" style="margin-left: 300px;width:200px;font-size: 11px;">
    <button id="show" onclick="event.stopPropagation(); datetime.show()">보이기</button>
    <button id="hide" onclick="datetime.hide()">숨기기</button>
    <button id="hide" onclick="remove()">제거</button>

    <button id="datetime2" style="margin-left: 300px">달력</button>
    <button id="hide" onclick="remove()">제거</button>

    <script>

let datetime = null;
let datetime2 = null;

    function remove(){
        datetime.remove();
        datetime2.remove();
        datetime = null;
        delete window.datetime;
    }
    
    window.addEventListener('DOMContentLoaded', (event) => {
        console.log('DOM fully loaded and parsed');
    
        //dayjs 객체.
        // let dayjs = getDayjsOnDateRangePicker();

        datetime = dateRangePicker(
            document.querySelector("#datetime"),
            {
                darkMode: true,
                startDate: 1628247535927,
                endDate: new Date(),
                timePicker: true,
                singleDatePicker: false,
                events: {
                    outsideClick: (e, picker) => {
                        console.log("outsideClick ", e, picker);
                    },
                    clickApply: (e, picker) => {
                        console.log("clickApply ", e, picker);
                    },
                    clickCancel: (e, picker) => {
                        console.log("clickCancel ", e, picker);
                    }
                }
            },

            function(start, end, label) {
                console.log('New date range selected: ' + start.format('YYYY-MM-DD HH:mm:ss') + ' to ' + end.format('YYYY-MM-DD HH:mm:ss') + ' (predefined range: ' + label + ')');
            }
        );


  

        console.log(datetime )
        console.log(datetime.getStartDate(), datetime.getEndDate(), )

        datetime2 = dateRangePicker(
            "#datetime2",
            {
                drops: 'down',
                opens: 'right',
                showRanges: false,
                showMonthAndYearDropdowns: false,
                timePicker: false,
                events: {
                    outsideClick: (e, picker) => {
                        console.log("outsideClick ", e, picker);
                    },
                    clickApply: (e, picker) => {
                        console.log("clickApply ", e, picker);
                    },
                    clickCancel: (e, picker) => {
                        console.log("clickCancel ", e, picker);
                    }
                }
            }
        );
    });

    </script>
</body>

</html>